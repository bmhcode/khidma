{% extends "app/base.html" %}
{% load static %}

{% block title %}
    <title> Khidma/Wishlist </title>
{% endblock title %}
    
{% block body  %}


    <div class="container-fluid tm-container-content tm-mt-60">
        <div class="mb-50">
            <h4 class="col-6 tm-text-primary mb-4"> Your Wishlist <small> (There are {{ wishlist.count }} items in this list)</small></h4>
        </div>
        <div class="row tm-mb-90 tm-gallery">
            {% for item in wishlist %} 
            <div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-5">
                <div class="d-flex justify-content-between tm-text-gray">
                    <h5>{{ item.post.category }} <span class="tm-text-secondary">({{ item.post.user }})</span></h5>
                    <a class="fa fa-heart" href="{% url 'app:wishlist-delete' item.id %}"></a>
                </div>
                <figure class="effect-ming tm-video-item mb-2" style='width:300px; height:150px; position: relative; margin: 0 auto'>
                    <img src="{{item.post.imageURL}}" alt="Image" class="mb-4 img-fluid">
                    <figcaption class="d-flex align-items-center justify-content-center">
                        <h2>{{ item.post.category }}</h2>
                        <a href="{{ item.post.get_absolute_url }}">View more</a>
                    </figcaption>                    
                </figure>
                <h4><a class="tm-text-primary mb-4" href="{{ post.get_absolute_url }}">{{ item.post.title }}</a></h4>
                
                <span class="tm-text-secondary">{{ item.post.address }}</span> <br>
                <div class="d-flex justify-content-between tm-text-gray">
                    <span class="tm-text-gray-dark">{{ item.post.phone }}</span>
                    {% comment %} <span>9,906 views</span> {% endcomment %}
                    {% comment %} <div class="rating-star">
                        <span title="{{ item.post.rating }}/5">
                            <!-- By default the star is full else it is empty otherwise it is half -->
                            <i class="fa fa-star{% if post.rating < 0.5%}-o{% elif post.rating >= 0.5 and post.rating < 1 %}-half-o{% endif %}" aria-hidden="true"></i>
                            <i class="fa fa-star{% if post.rating < 1.5%}-o{% elif post.rating >= 1.5 and post.rating < 2 %}-half-o{% endif %}" aria-hidden="true"></i>
                            <i class="fa fa-star{% if post.rating < 2.5%}-o{% elif post.rating >= 2.5 and post.rating < 3 %}-half-o{% endif %}" aria-hidden="true"></i>
                            <i class="fa fa-star{% if post.rating < 3.5%}-o{% elif post.rating >= 3.5 and post.rating < 4 %}-half-o{% endif %}" aria-hidden="true"></i>
                            <i class="fa fa-star{% if post.rating < 4.5%}-o{% elif post.rating >= 4.5 and post.rating < 5 %}-half-o{% endif %}" aria-hidden="true"></i>
                        </span>
                        <span><strong>( {{ item.post.rating }}/5 )</strong></span>
                    </div>
                    <span><strong>( {{ Item.post.post_review.get_rating }} )</strong></span> {% endcomment %}
                </div>
            </div>   

            {% endfor %}
                
                
        </div> <!-- row -->

    </div> <!-- container-fluid, tm-container-content -->
    
{% endblock body %}
   